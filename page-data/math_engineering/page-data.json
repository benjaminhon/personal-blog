{"componentChunkName":"component---src-pages-math-engineering-jsx","path":"/math_engineering/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"id":"5daff032-1957-51f7-92dc-73dbf05aede7","fields":{"path":"/personal-blog/_path","date":1577635200},"frontmatter":{"title":"Covariance Matrix and Principle Component Analysis","tags":["math"]},"html":"<h1>Covariance and Variance</h1>\n<p>The covariance between 2 variables is as as follows</p>\n<div>\n$$\n\\begin{align}\n  & cov(A,B) = E(AB) - E(A)E(B) \\\\\n  & cov(A,B) = \\frac{\\sum{a_ib_i}}{N} - \\frac{\\sum{a_i}}{N}\\frac{\\sum{b_i}}{N} \\\\\n\\end{align}\n$$\n</div>\n<p>The variance of a variable is simple the covariance with itself. Variance measures the variation of a single random variable, whereas covariance is a measure of how much two random variables vary together</p>\n<div>\n$$\n\\begin{align}\n  & var(A) = cov(A,A) = E(A^2) - E(A)^2 \\\\\n  & var(A) = \\frac{\\sum{a_i^2}}{N} - (\\frac{\\sum{a_i}}{N})^2 \\\\\n\\end{align}\n$$\n</div>\n<p>A simple analysis</p>\n<ul>\n<li>If <em>A</em> and <em>B</em> are correlated (positive or negative), <em>E(AB)</em> is very much positive</li>\n<li>If <em>A</em> and <em>B</em> are correlated, E(AB) > E(A)E(B)</li>\n<li>Thus <em>cov(A,B) = 0</em> means the A is uncorrelated to B</li>\n<li>The greater <em>cov(A,B)</em> the more A is correlated to B</li>\n</ul>\n<p>It is important to note that if <em>E(A)</em> and <em>E(B)</em> are similar in value, it does not mean that they are correlated, it just means that their means are similar, they are only correlated if their values track one another, i.e. if E(AB) is positive </p>\n<h1>Covariance Matrix</h1>\n<p>The following matrix shows the preference for apples or oranges in a poll, each row represents a person's preference for apples and oranges.</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">Apples</th>\n<th align=\"center\">Oranges</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\">1</td>\n<td align=\"center\">1</td>\n</tr>\n<tr>\n<td align=\"center\">3</td>\n<td align=\"center\">0</td>\n</tr>\n<tr>\n<td align=\"center\">-1</td>\n<td align=\"center\">-1</td>\n</tr>\n</tbody>\n</table>\n<p>the covariance matrix of a 2 variable system is a <em>2x2</em> matrix</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\"></th>\n<th align=\"center\">Apples</th>\n<th align=\"center\">Oranges</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\"><strong>Apples</strong></td>\n<td align=\"center\">cov(A,A)</td>\n<td align=\"center\">cov(A,B)</td>\n</tr>\n<tr>\n<td align=\"center\"><strong>Oranges</strong></td>\n<td align=\"center\">cov(B,A)</td>\n<td align=\"center\">cov(B,B)</td>\n</tr>\n</tbody>\n</table>\n<p>in our example,</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\"></th>\n<th align=\"center\">Apples</th>\n<th align=\"center\">Oranges</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\"><strong>Apples</strong></td>\n<td align=\"center\">2.67</td>\n<td align=\"center\">0.67</td>\n</tr>\n<tr>\n<td align=\"center\"><strong>Oranges</strong></td>\n<td align=\"center\">0.67</td>\n<td align=\"center\">0.67</td>\n</tr>\n</tbody>\n</table>\n<p>observations</p>\n<ul>\n<li>The covariance matrix is symmetric</li>\n<li>the diagonal is the variance of each variable</li>\n</ul>\n<h1>Eigen vectors of the Covariance Matrix</h1>"}},{"node":{"id":"8e7b7c56-4a8e-5bd8-b364-85226a493053","fields":{"path":"/personal-blog/_path","date":1577635200},"frontmatter":{"title":"Dimensionality Reduction","tags":["math"]},"html":"<h1>Correlation Analysis</h1>\n<h2>Pearson Correlation</h2>\n<p>2 variables <em>x, y</em> are positively correlated if <em>r</em> is close to 1, negatively if <em>r</em> is close to -1 and uncorrelated if <em>r</em> is 0</p>\n<div>\n$$\n\\begin{align}\n  r = \\frac{\\sum(x_i-\\bar{x})(y_i-\\bar{y})}{\\sqrt{(x_i-\\bar{x})^2}\\sqrt{(y_i-\\bar{y})^2}}\n\\end{align}\n$$\n</div>\n<h2>Probable error</h2>\n<p>If the sample size <em>n</em> is small, the <strong>probable error of correlation coefficient</strong> <em>P.E.R</em> is large, if <em>n</em> is large, then <em>r = 0.1</em> is still significant</p>\n<div>\n$$\n\\begin{align}\n  P.E.R = .675 \\times \\frac{1-r^2}{\\sqrt{n}}\n\\end{align}\n$$\n</div>\n<p>as a rule</p>\n<ul>\n<li>there is no correlation if <em>r &#x3C; P.E.R</em></li>\n<li>there is certain correlation if <em>r > 6P.E.R</em></li>\n</ul>\n<h2>Dimensionality Reduction Using Correlation</h2>\n<p>Given <em>y</em> as a sum of weighted variables, if we want to reduce <em>X</em> to a smaller set, we would have to determine the correlation of pairs of <em>X</em>. If a pair is highly correlated, we find the correlation of each with respect to <em>y</em> and choose the higher correlated <em>x</em></p>\n<div>\n$$\n\\begin{align}\n  y_i = w_1x_{1i} + w_2x_{2i} + w_3x_{3i} + w_4x_{4i} + ... \n\\end{align}\n$$\n</div>\n<h2>Principle Component Analysis</h2>"}},{"node":{"id":"d2c8c74a-9fe3-5c52-8376-1738ee087daa","fields":{"path":"/personal-blog/_path","date":1500307200},"frontmatter":{"title":"Elasticsearch Cheat Sheet","tags":["engineering"]},"html":"<h1>Elasticsearch Structure</h1>\n<p>An index is a collection of documents that have somewhat similar characteristics. Within an index, you can define one or more types. A document is a basic unit of information that can be indexed.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># &lt;index>/&lt;type>/&lt;document></span>\ncompany/employee/alan\ncompany/intern/steve</code></pre></div>\n<h1>Query Indices</h1>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Get all indices</span>\n<span class=\"token function\">curl</span> -XGET <span class=\"token string\">'&lt;url>/_cat/indices'</span>\n\n<span class=\"token comment\"># Get all mappings</span>\n<span class=\"token function\">curl</span> -XGET <span class=\"token string\">'&lt;url>/_mapping?pretty=true'</span>\n\n<span class=\"token comment\"># Get and save mapping of index</span>\n<span class=\"token function\">curl</span> -XGET <span class=\"token string\">'&lt;url>/&lt;index>/_mapping?pretty=true'</span> <span class=\"token operator\">></span> mapping.json</code></pre></div>\n<h1>Create Index Mapping Template</h1>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># download mapping</span>\n<span class=\"token function\">curl</span> -XGET <span class=\"token string\">'http://127.0.0.1:9200/&lt;index>/_mapping?pretty'</span> <span class=\"token operator\">></span> template.json</code></pre></div>\n<p>Modify the properties as required in <em>template.json</em>. Then replace <em>template.json</em> as follows, replacing the properties section.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"template\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"my_index*\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"version\"</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">50001</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"settings\"</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"index.refresh_interval\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"5s\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"mappings\"</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"_default_\"</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">\"properties\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        # <span class=\"token constant\">REPLACE</span> <span class=\"token constant\">PROPERTIES</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># delete index</span>\n<span class=\"token function\">curl</span> -XDELETE <span class=\"token string\">'http://localhost:9200/&lt;index>?pretty'</span>\n\n<span class=\"token comment\"># upload template</span>\n<span class=\"token function\">curl</span> -XPUT <span class=\"token string\">'http://localhost:9200/_template/&lt;index>?pretty'</span> -d @template.json</code></pre></div>\n<h1>Query Data</h1>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Get all documents in index</span>\nGET /<span class=\"token operator\">&lt;</span>index<span class=\"token operator\">></span>/<span class=\"token operator\">&lt;</span>type<span class=\"token operator\">></span>/_search?q<span class=\"token operator\">=</span>*</code></pre></div>\n<h1>Recipes</h1>\n<h3>Get all unique terms</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token constant\">GET</span> <span class=\"token operator\">/</span>zmq<span class=\"token operator\">/</span>position<span class=\"token operator\">-</span>update<span class=\"token operator\">/</span>_search\n<span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"size\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> # <span class=\"token keyword\">return</span> only aggregate results\n  <span class=\"token string\">\"aggregations\"</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"id\"</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">{</span>\n      <span class=\"token string\">\"terms\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"field\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"id.keyword\"</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Get last document in aggregate</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token constant\">GET</span> <span class=\"token operator\">/</span>zmq<span class=\"token operator\">/</span>position<span class=\"token operator\">-</span>update<span class=\"token operator\">/</span>_search\n<span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"size\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"aggregations\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"id\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">\"terms\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"field\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"id.keyword\"</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"aggregations\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"latest\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">\"top_hits\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">\"size\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"sort\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"@timestamp\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"order\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"desc\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"_source\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"includes\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"location\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"map\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>"}},{"node":{"id":"f0003ded-c46a-5ed4-a554-051c51088dc4","fields":{"path":"/personal-blog/_path","date":1500307200},"frontmatter":{"title":"Logstash Cheat Sheet","tags":["engineering"]},"html":"<h1>Grok Patterns</h1>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">USERNAME <span class=\"token punctuation\">[</span>a-zA-Z0-9._-<span class=\"token punctuation\">]</span>+\n<span class=\"token environment constant\">USER</span> %<span class=\"token punctuation\">{</span>USERNAME<span class=\"token punctuation\">}</span>\nINT <span class=\"token punctuation\">(</span>?:<span class=\"token punctuation\">[</span>+-<span class=\"token punctuation\">]</span>?<span class=\"token punctuation\">(</span>?:<span class=\"token punctuation\">[</span><span class=\"token number\">0</span>-9<span class=\"token punctuation\">]</span>+<span class=\"token punctuation\">))</span>\nBASE10NUM <span class=\"token punctuation\">(</span>?<span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span>-9.+-<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>?<span class=\"token operator\">></span><span class=\"token punctuation\">[</span>+-<span class=\"token punctuation\">]</span>?<span class=\"token punctuation\">(</span>?:<span class=\"token punctuation\">(</span>?:<span class=\"token punctuation\">[</span><span class=\"token number\">0</span>-9<span class=\"token punctuation\">]</span>+<span class=\"token punctuation\">(</span>?:<span class=\"token punctuation\">\\</span>.<span class=\"token punctuation\">[</span><span class=\"token number\">0</span>-9<span class=\"token punctuation\">]</span>+<span class=\"token punctuation\">)</span>?<span class=\"token punctuation\">)</span><span class=\"token operator\">|</span><span class=\"token punctuation\">(</span>?:<span class=\"token punctuation\">\\</span>.<span class=\"token punctuation\">[</span><span class=\"token number\">0</span>-9<span class=\"token punctuation\">]</span>+<span class=\"token punctuation\">))</span><span class=\"token punctuation\">)</span>\nNUMBER <span class=\"token punctuation\">(</span>?:%<span class=\"token punctuation\">{</span>BASE10NUM<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\nBASE16NUM <span class=\"token punctuation\">(</span>?<span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span>-9A-Fa-f<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>?:<span class=\"token punctuation\">[</span>+-<span class=\"token punctuation\">]</span>?<span class=\"token punctuation\">(</span>?:0x<span class=\"token punctuation\">)</span>?<span class=\"token punctuation\">(</span>?:<span class=\"token punctuation\">[</span><span class=\"token number\">0</span>-9A-Fa-f<span class=\"token punctuation\">]</span>+<span class=\"token punctuation\">))</span>\nBASE16FLOAT <span class=\"token punctuation\">\\</span>b<span class=\"token punctuation\">(</span>?<span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span>-9A-Fa-f.<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>?:<span class=\"token punctuation\">[</span>+-<span class=\"token punctuation\">]</span>?<span class=\"token punctuation\">(</span>?:0x<span class=\"token punctuation\">)</span>?<span class=\"token punctuation\">(</span>?:<span class=\"token punctuation\">(</span>?:<span class=\"token punctuation\">[</span><span class=\"token number\">0</span>-9A-Fa-f<span class=\"token punctuation\">]</span>+<span class=\"token punctuation\">(</span>?:<span class=\"token punctuation\">\\</span>.<span class=\"token punctuation\">[</span><span class=\"token number\">0</span>-9A-Fa-f<span class=\"token punctuation\">]</span>*<span class=\"token punctuation\">)</span>?<span class=\"token punctuation\">)</span><span class=\"token operator\">|</span><span class=\"token punctuation\">(</span>?:<span class=\"token punctuation\">\\</span>.<span class=\"token punctuation\">[</span><span class=\"token number\">0</span>-9A-Fa-f<span class=\"token punctuation\">]</span>+<span class=\"token punctuation\">))</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">\\</span>b\n\nPOSINT <span class=\"token punctuation\">\\</span>b<span class=\"token punctuation\">(</span>?:<span class=\"token punctuation\">[</span><span class=\"token number\">1</span>-9<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span>-9<span class=\"token punctuation\">]</span>*<span class=\"token punctuation\">)</span><span class=\"token punctuation\">\\</span>b\nNONNEGINT <span class=\"token punctuation\">\\</span>b<span class=\"token punctuation\">(</span>?:<span class=\"token punctuation\">[</span><span class=\"token number\">0</span>-9<span class=\"token punctuation\">]</span>+<span class=\"token punctuation\">)</span><span class=\"token punctuation\">\\</span>b\nWORD <span class=\"token punctuation\">\\</span>b<span class=\"token punctuation\">\\</span>w+<span class=\"token punctuation\">\\</span>b\nNOTSPACE <span class=\"token punctuation\">\\</span>S+\nSPACE <span class=\"token punctuation\">\\</span>s*\nDATA .*?\nGREEDYDATA .*\nQUOTEDSTRING <span class=\"token punctuation\">(</span>?<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>?<span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token punctuation\">\\</span><span class=\"token punctuation\">\\</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>?<span class=\"token operator\">></span><span class=\"token string\">\"(?><span class=\"token entity\" title=\"\\\\\">\\\\</span>.|[^<span class=\"token entity\" title=\"\\\\\">\\\\</span>\"</span><span class=\"token punctuation\">]</span>+<span class=\"token punctuation\">)</span>+<span class=\"token string\">\"|\"</span><span class=\"token string\">\"|(?>'(?><span class=\"token entity\" title=\"\\\\\">\\\\</span>.|[^<span class=\"token entity\" title=\"\\\\\">\\\\</span>']+)+')|''|(?><span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token punctuation\">(</span>?<span class=\"token operator\">></span><span class=\"token punctuation\">\\</span><span class=\"token punctuation\">\\</span>.<span class=\"token operator\">|</span><span class=\"token punctuation\">[</span>^<span class=\"token punctuation\">\\</span><span class=\"token punctuation\">\\</span><span class=\"token variable\">`</span></span>]+)+<span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token punctuation\">)</span><span class=\"token operator\">|</span><span class=\"token variable\">`</span></span>`))\nUUID [A-Fa-f0-9]{8}-(?:[A-Fa-f0-9]{4}-){3}[A-Fa-f0-9]{12}\n\n# Networking\nMAC (?:%{CISCOMAC}|%{WINDOWSMAC}|%{COMMONMAC})\nCISCOMAC (?:(?:[A-Fa-f0-9]{4}\\.){2}[A-Fa-f0-9]{4})\nWINDOWSMAC (?:(?:[A-Fa-f0-9]{2}-){5}[A-Fa-f0-9]{2})\nCOMMONMAC (?:(?:[A-Fa-f0-9]{2}:){5}[A-Fa-f0-9]{2})\nIPV6 <span class=\"token variable\"><span class=\"token punctuation\">((</span><span class=\"token punctuation\">(</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>A<span class=\"token operator\">-</span>Fa<span class=\"token operator\">-</span>f]{<span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span>}<span class=\"token operator\">:</span><span class=\"token punctuation\">)</span>{<span class=\"token number\">7</span>}<span class=\"token punctuation\">(</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>A<span class=\"token operator\">-</span>Fa<span class=\"token operator\">-</span>f]{<span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span>}<span class=\"token operator\">|</span><span class=\"token operator\">:</span><span class=\"token punctuation\">))</span></span>|<span class=\"token variable\"><span class=\"token punctuation\">((</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>A<span class=\"token operator\">-</span>Fa<span class=\"token operator\">-</span>f]{<span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span>}<span class=\"token operator\">:</span><span class=\"token punctuation\">)</span>{<span class=\"token number\">6</span>}<span class=\"token punctuation\">(</span><span class=\"token operator\">:</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>A<span class=\"token operator\">-</span>Fa<span class=\"token operator\">-</span>f]{<span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span>}<span class=\"token operator\">|</span><span class=\"token punctuation\">((</span><span class=\"token number\">25</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">5</span>]<span class=\"token operator\">|</span><span class=\"token number\">2</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">4</span>]\\d<span class=\"token operator\">|</span><span class=\"token number\">1</span>\\d\\d<span class=\"token operator\">|</span>[<span class=\"token number\">1</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>]<span class=\"token operator\">?</span>\\d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>\\.<span class=\"token punctuation\">(</span><span class=\"token number\">25</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">5</span>]<span class=\"token operator\">|</span><span class=\"token number\">2</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">4</span>]\\d<span class=\"token operator\">|</span><span class=\"token number\">1</span>\\d\\d<span class=\"token operator\">|</span>[<span class=\"token number\">1</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>]<span class=\"token operator\">?</span>\\d<span class=\"token punctuation\">))</span></span>{3})|:))|<span class=\"token variable\"><span class=\"token punctuation\">((</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>A<span class=\"token operator\">-</span>Fa<span class=\"token operator\">-</span>f]{<span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span>}<span class=\"token operator\">:</span><span class=\"token punctuation\">)</span>{<span class=\"token number\">5</span>}<span class=\"token punctuation\">((</span><span class=\"token punctuation\">(</span><span class=\"token operator\">:</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>A<span class=\"token operator\">-</span>Fa<span class=\"token operator\">-</span>f]{<span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span>}<span class=\"token punctuation\">)</span>{<span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span>}<span class=\"token punctuation\">)</span><span class=\"token operator\">|</span><span class=\"token operator\">:</span><span class=\"token punctuation\">((</span><span class=\"token number\">25</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">5</span>]<span class=\"token operator\">|</span><span class=\"token number\">2</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">4</span>]\\d<span class=\"token operator\">|</span><span class=\"token number\">1</span>\\d\\d<span class=\"token operator\">|</span>[<span class=\"token number\">1</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>]<span class=\"token operator\">?</span>\\d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>\\.<span class=\"token punctuation\">(</span><span class=\"token number\">25</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">5</span>]<span class=\"token operator\">|</span><span class=\"token number\">2</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">4</span>]\\d<span class=\"token operator\">|</span><span class=\"token number\">1</span>\\d\\d<span class=\"token operator\">|</span>[<span class=\"token number\">1</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>]<span class=\"token operator\">?</span>\\d<span class=\"token punctuation\">))</span></span>{3})|:))|<span class=\"token variable\"><span class=\"token punctuation\">((</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>A<span class=\"token operator\">-</span>Fa<span class=\"token operator\">-</span>f]{<span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span>}<span class=\"token operator\">:</span><span class=\"token punctuation\">)</span>{<span class=\"token number\">4</span>}<span class=\"token punctuation\">((</span><span class=\"token punctuation\">(</span><span class=\"token operator\">:</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>A<span class=\"token operator\">-</span>Fa<span class=\"token operator\">-</span>f]{<span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span>}<span class=\"token punctuation\">)</span>{<span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span>}<span class=\"token punctuation\">)</span><span class=\"token operator\">|</span><span class=\"token punctuation\">((</span><span class=\"token operator\">:</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>A<span class=\"token operator\">-</span>Fa<span class=\"token operator\">-</span>f]{<span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span>}<span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token operator\">:</span><span class=\"token punctuation\">((</span><span class=\"token number\">25</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">5</span>]<span class=\"token operator\">|</span><span class=\"token number\">2</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">4</span>]\\d<span class=\"token operator\">|</span><span class=\"token number\">1</span>\\d\\d<span class=\"token operator\">|</span>[<span class=\"token number\">1</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>]<span class=\"token operator\">?</span>\\d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>\\.<span class=\"token punctuation\">(</span><span class=\"token number\">25</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">5</span>]<span class=\"token operator\">|</span><span class=\"token number\">2</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">4</span>]\\d<span class=\"token operator\">|</span><span class=\"token number\">1</span>\\d\\d<span class=\"token operator\">|</span>[<span class=\"token number\">1</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>]<span class=\"token operator\">?</span>\\d<span class=\"token punctuation\">))</span></span>{3}))|:))|<span class=\"token variable\"><span class=\"token punctuation\">((</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>A<span class=\"token operator\">-</span>Fa<span class=\"token operator\">-</span>f]{<span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span>}<span class=\"token operator\">:</span><span class=\"token punctuation\">)</span>{<span class=\"token number\">3</span>}<span class=\"token punctuation\">((</span><span class=\"token punctuation\">(</span><span class=\"token operator\">:</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>A<span class=\"token operator\">-</span>Fa<span class=\"token operator\">-</span>f]{<span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span>}<span class=\"token punctuation\">)</span>{<span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span>}<span class=\"token punctuation\">)</span><span class=\"token operator\">|</span><span class=\"token punctuation\">((</span><span class=\"token operator\">:</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>A<span class=\"token operator\">-</span>Fa<span class=\"token operator\">-</span>f]{<span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span>}<span class=\"token punctuation\">)</span>{<span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span>}<span class=\"token operator\">:</span><span class=\"token punctuation\">((</span><span class=\"token number\">25</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">5</span>]<span class=\"token operator\">|</span><span class=\"token number\">2</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">4</span>]\\d<span class=\"token operator\">|</span><span class=\"token number\">1</span>\\d\\d<span class=\"token operator\">|</span>[<span class=\"token number\">1</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>]<span class=\"token operator\">?</span>\\d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>\\.<span class=\"token punctuation\">(</span><span class=\"token number\">25</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">5</span>]<span class=\"token operator\">|</span><span class=\"token number\">2</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">4</span>]\\d<span class=\"token operator\">|</span><span class=\"token number\">1</span>\\d\\d<span class=\"token operator\">|</span>[<span class=\"token number\">1</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>]<span class=\"token operator\">?</span>\\d<span class=\"token punctuation\">))</span></span>{3}))|:))|<span class=\"token variable\"><span class=\"token punctuation\">((</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>A<span class=\"token operator\">-</span>Fa<span class=\"token operator\">-</span>f]{<span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span>}<span class=\"token operator\">:</span><span class=\"token punctuation\">)</span>{<span class=\"token number\">2</span>}<span class=\"token punctuation\">((</span><span class=\"token punctuation\">(</span><span class=\"token operator\">:</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>A<span class=\"token operator\">-</span>Fa<span class=\"token operator\">-</span>f]{<span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span>}<span class=\"token punctuation\">)</span>{<span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span>}<span class=\"token punctuation\">)</span><span class=\"token operator\">|</span><span class=\"token punctuation\">((</span><span class=\"token operator\">:</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>A<span class=\"token operator\">-</span>Fa<span class=\"token operator\">-</span>f]{<span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span>}<span class=\"token punctuation\">)</span>{<span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span>}<span class=\"token operator\">:</span><span class=\"token punctuation\">((</span><span class=\"token number\">25</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">5</span>]<span class=\"token operator\">|</span><span class=\"token number\">2</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">4</span>]\\d<span class=\"token operator\">|</span><span class=\"token number\">1</span>\\d\\d<span class=\"token operator\">|</span>[<span class=\"token number\">1</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>]<span class=\"token operator\">?</span>\\d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>\\.<span class=\"token punctuation\">(</span><span class=\"token number\">25</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">5</span>]<span class=\"token operator\">|</span><span class=\"token number\">2</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">4</span>]\\d<span class=\"token operator\">|</span><span class=\"token number\">1</span>\\d\\d<span class=\"token operator\">|</span>[<span class=\"token number\">1</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>]<span class=\"token operator\">?</span>\\d<span class=\"token punctuation\">))</span></span>{3}))|:))|<span class=\"token variable\"><span class=\"token punctuation\">((</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>A<span class=\"token operator\">-</span>Fa<span class=\"token operator\">-</span>f]{<span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span>}<span class=\"token operator\">:</span><span class=\"token punctuation\">)</span>{<span class=\"token number\">1</span>}<span class=\"token punctuation\">((</span><span class=\"token punctuation\">(</span><span class=\"token operator\">:</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>A<span class=\"token operator\">-</span>Fa<span class=\"token operator\">-</span>f]{<span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span>}<span class=\"token punctuation\">)</span>{<span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">6</span>}<span class=\"token punctuation\">)</span><span class=\"token operator\">|</span><span class=\"token punctuation\">((</span><span class=\"token operator\">:</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>A<span class=\"token operator\">-</span>Fa<span class=\"token operator\">-</span>f]{<span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span>}<span class=\"token punctuation\">)</span>{<span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span>}<span class=\"token operator\">:</span><span class=\"token punctuation\">((</span><span class=\"token number\">25</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">5</span>]<span class=\"token operator\">|</span><span class=\"token number\">2</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">4</span>]\\d<span class=\"token operator\">|</span><span class=\"token number\">1</span>\\d\\d<span class=\"token operator\">|</span>[<span class=\"token number\">1</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>]<span class=\"token operator\">?</span>\\d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>\\.<span class=\"token punctuation\">(</span><span class=\"token number\">25</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">5</span>]<span class=\"token operator\">|</span><span class=\"token number\">2</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">4</span>]\\d<span class=\"token operator\">|</span><span class=\"token number\">1</span>\\d\\d<span class=\"token operator\">|</span>[<span class=\"token number\">1</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>]<span class=\"token operator\">?</span>\\d<span class=\"token punctuation\">))</span></span>{3}))|:))|(:<span class=\"token variable\"><span class=\"token punctuation\">((</span><span class=\"token punctuation\">(</span><span class=\"token operator\">:</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>A<span class=\"token operator\">-</span>Fa<span class=\"token operator\">-</span>f]{<span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span>}<span class=\"token punctuation\">)</span>{<span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">7</span>}<span class=\"token punctuation\">)</span><span class=\"token operator\">|</span><span class=\"token punctuation\">((</span><span class=\"token operator\">:</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>A<span class=\"token operator\">-</span>Fa<span class=\"token operator\">-</span>f]{<span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span>}<span class=\"token punctuation\">)</span>{<span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span>}<span class=\"token operator\">:</span><span class=\"token punctuation\">((</span><span class=\"token number\">25</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">5</span>]<span class=\"token operator\">|</span><span class=\"token number\">2</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">4</span>]\\d<span class=\"token operator\">|</span><span class=\"token number\">1</span>\\d\\d<span class=\"token operator\">|</span>[<span class=\"token number\">1</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>]<span class=\"token operator\">?</span>\\d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>\\.<span class=\"token punctuation\">(</span><span class=\"token number\">25</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">5</span>]<span class=\"token operator\">|</span><span class=\"token number\">2</span>[<span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">4</span>]\\d<span class=\"token operator\">|</span><span class=\"token number\">1</span>\\d\\d<span class=\"token operator\">|</span>[<span class=\"token number\">1</span><span class=\"token operator\">-</span><span class=\"token number\">9</span>]<span class=\"token operator\">?</span>\\d<span class=\"token punctuation\">))</span></span>{3}))|:)))(%.+)?\nIPV4 (?&lt;![0-9])(?:(?:25[0-5]|2[0-4][0-9]|[0-1]?[0-9]{1,2})[.](?:25[0-5]|2[0-4][0-9]|[0-1]?[0-9]{1,2})[.](?:25[0-5]|2[0-4][0-9]|[0-1]?[0-9]{1,2})[.](?:25[0-5]|2[0-4][0-9]|[0-1]?[0-9]{1,2}))(?![0-9])\nIP (?:%{IPV6}|%{IPV4})\nHOSTNAME <span class=\"token entity\" title=\"\\b\">\\b</span>(?:[0-9A-Za-z][0-9A-Za-z-]{0,62})(?:\\.(?:[0-9A-Za-z][0-9A-Za-z-]{0,62}))*(\\.?|<span class=\"token entity\" title=\"\\b\">\\b</span>)\nHOST %{HOSTNAME}\nIPORHOST (?:%{HOSTNAME}|%{IP})\nHOSTPORT %{IPORHOST}:%{POSINT}\n\n# paths\nPATH (?:%{UNIXPATH}|%{WINPATH})\nUNIXPATH (?>/(?>[\\w_%!<span class=\"token variable\">$@</span>:.,-]+|<span class=\"token entity\" title=\"\\\\\">\\\\</span>.)*)+\nTTY (?:/dev/(pts|tty([pq])?)(\\w+)?/?(?:[0-9]+))\nWINPATH (?>[A-Za-z]+:|<span class=\"token entity\" title=\"\\\\\">\\\\</span>)(?:<span class=\"token entity\" title=\"\\\\\">\\\\</span>[^<span class=\"token entity\" title=\"\\\\\">\\\\</span>?*]*)+\nURIPROTO [A-Za-z]+(\\+[A-Za-z+]+)?\nURIHOST %{IPORHOST}(?::%{POSINT:port})?\n# uripath comes loosely from RFC1738, but mostly from what Firefox\n# doesn't turn into %XX\nURIPATH (?:/[A-Za-z0-9$.+!*'(){},~:;=@#%_\\-]*)+\n#URIPARAM \\?(?:[A-Za-z0-9]+(?:=(?:[^&amp;]*))?(?:&amp;(?:[A-Za-z0-9]+(?:=(?:[^&amp;]*))?)?)*)?\nURIPARAM \\?[A-Za-z0-9$.+!*'|(){},~@#%&amp;/=:;_?\\-\\[\\]]*\nURIPATHPARAM %{URIPATH}(?:%{URIPARAM})?\nURI %{URIPROTO}://(?:%{USER}(?::[^@]*)?@)?(?:%{URIHOST})?(?:%{URIPATHPARAM})?\n\n# Months: January, Feb, 3, 03, 12, December\nMONTH <span class=\"token entity\" title=\"\\b\">\\b</span>(?:Jan(?:uary)?|Feb(?:ruary)?|Mar(?:ch)?|Apr(?:il)?|May|Jun(?:e)?|Jul(?:y)?|Aug(?:ust)?|Sep(?:tember)?|Oct(?:ober)?|Nov(?:ember)?|Dec(?:ember)?)<span class=\"token entity\" title=\"\\b\">\\b</span>\nMONTHNUM (?:0?[1-9]|1[0-2])\nMONTHNUM2 (?:0[1-9]|1[0-2])\nMONTHDAY (?:(?:0[1-9])|(?:[12][0-9])|(?:3[01])|[1-9])\n\n# Days: Monday, Tue, Thu, etc...\nDAY (?:Mon(?:day)?|Tue(?:sday)?|Wed(?:nesday)?|Thu(?:rsday)?|Fri(?:day)?|Sat(?:urday)?|Sun(?:day)?)\n\n# Years?\nYEAR (?>\\d\\d){1,2}\nHOUR (?:2[0123]|[01]?[0-9])\nMINUTE (?:[0-5][0-9])\n# '60' is a leap second in most time standards and thus is valid.\nSECOND (?:(?:[0-5]?[0-9]|60)(?:[:.,][0-9]+)?)\nTIME (?!&lt;[0-9])%{HOUR}:%{MINUTE}(?::%{SECOND})(?![0-9])\n# datestamp is YYYY/MM/DD-HH:MM:SS.UUUU (or something like it)\nDATE_US %{MONTHNUM}[/-]%{MONTHDAY}[/-]%{YEAR}\nDATE_EU %{MONTHDAY}[./-]%{MONTHNUM}[./-]%{YEAR}\nISO8601_TIMEZONE (?:Z|[+-]%{HOUR}(?::?%{MINUTE}))\nISO8601_SECOND (?:%{SECOND}|60)\nTIMESTAMP_ISO8601 %{YEAR}-%{MONTHNUM}-%{MONTHDAY}[T ]%{HOUR}:?%{MINUTE}(?::?%{SECOND})?%{ISO8601_TIMEZONE}?\nDATE %{DATE_US}|%{DATE_EU}\nDATESTAMP %{DATE}[- ]%{TIME}\nTZ (?:[PMCE][SD]T|UTC)\nDATESTAMP_RFC822 %{DAY} %{MONTH} %{MONTHDAY} %{YEAR} %{TIME} %{TZ}\nDATESTAMP_RFC2822 %{DAY}, %{MONTHDAY} %{MONTH} %{YEAR} %{TIME} %{ISO8601_TIMEZONE}\nDATESTAMP_OTHER %{DAY} %{MONTH} %{MONTHDAY} %{TIME} %{TZ} %{YEAR}\nDATESTAMP_EVENTLOG %{YEAR}%{MONTHNUM2}%{MONTHDAY}%{HOUR}%{MINUTE}%{SECOND}\n\n# Syslog Dates: Month Day HH:MM:SS\nSYSLOGTIMESTAMP %{MONTH} +%{MONTHDAY} %{TIME}\nPROG (?:[\\w._/%-]+)\nSYSLOGPROG %{PROG:program}(?:\\[%{POSINT:pid}\\])?\nSYSLOGHOST %{IPORHOST}\nSYSLOGFACILITY &lt;%{NONNEGINT:facility}.%{NONNEGINT:priority}>\nHTTPDATE %{MONTHDAY}/%{MONTH}/%{YEAR}:%{TIME} %{INT}\n\n# Shortcuts\nQS %{QUOTEDSTRING}\n\n# Log formats\nSYSLOGBASE %{SYSLOGTIMESTAMP:timestamp} (?:%{SYSLOGFACILITY} )?%{SYSLOGHOST:logsource} %{SYSLOGPROG}:\nCOMMONAPACHELOG %{IPORHOST:clientip} %{USER:ident} %{USER:auth} \\[%{HTTPDATE:timestamp}\\] \"</span><span class=\"token punctuation\">(</span>?:%<span class=\"token punctuation\">{</span>WORD:verb<span class=\"token punctuation\">}</span> %<span class=\"token punctuation\">{</span>NOTSPACE:request<span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span>?: HTTP/%<span class=\"token punctuation\">{</span>NUMBER:httpversion<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>?<span class=\"token operator\">|</span>%<span class=\"token punctuation\">{</span>DATA:rawrequest<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\" %<span class=\"token punctuation\">{</span>NUMBER:response<span class=\"token punctuation\">}</span> <span class=\"token punctuation\">(</span>?:%<span class=\"token punctuation\">{</span>NUMBER:bytes<span class=\"token punctuation\">}</span><span class=\"token operator\">|</span>-<span class=\"token punctuation\">)</span>\nCOMBINEDAPACHELOG %<span class=\"token punctuation\">{</span>COMMONAPACHELOG<span class=\"token punctuation\">}</span> %<span class=\"token punctuation\">{</span>QS:referrer<span class=\"token punctuation\">}</span> %<span class=\"token punctuation\">{</span>QS:agent<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\"># Log Levels</span>\nLOGLEVEL <span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>Aa<span class=\"token punctuation\">]</span>lert<span class=\"token operator\">|</span>ALERT<span class=\"token operator\">|</span><span class=\"token punctuation\">[</span>Tt<span class=\"token punctuation\">]</span>race<span class=\"token operator\">|</span>TRACE<span class=\"token operator\">|</span><span class=\"token punctuation\">[</span>Dd<span class=\"token punctuation\">]</span>ebug<span class=\"token operator\">|</span>DEBUG<span class=\"token operator\">|</span><span class=\"token punctuation\">[</span>Nn<span class=\"token punctuation\">]</span>otice<span class=\"token operator\">|</span>NOTICE<span class=\"token operator\">|</span><span class=\"token punctuation\">[</span>Ii<span class=\"token punctuation\">]</span>nfo<span class=\"token operator\">|</span>INFO<span class=\"token operator\">|</span><span class=\"token punctuation\">[</span>Ww<span class=\"token punctuation\">]</span>arn?<span class=\"token punctuation\">(</span>?:ing<span class=\"token punctuation\">)</span>?<span class=\"token operator\">|</span>WARN?<span class=\"token punctuation\">(</span>?:ING<span class=\"token punctuation\">)</span>?<span class=\"token operator\">|</span><span class=\"token punctuation\">[</span>Ee<span class=\"token punctuation\">]</span>rr?<span class=\"token punctuation\">(</span>?:or<span class=\"token punctuation\">)</span>?<span class=\"token operator\">|</span>ERR?<span class=\"token punctuation\">(</span>?:OR<span class=\"token punctuation\">)</span>?<span class=\"token operator\">|</span><span class=\"token punctuation\">[</span>Cc<span class=\"token punctuation\">]</span>rit?<span class=\"token punctuation\">(</span>?:ical<span class=\"token punctuation\">)</span>?<span class=\"token operator\">|</span>CRIT?<span class=\"token punctuation\">(</span>?:ICAL<span class=\"token punctuation\">)</span>?<span class=\"token operator\">|</span><span class=\"token punctuation\">[</span>Ff<span class=\"token punctuation\">]</span>atal<span class=\"token operator\">|</span>FATAL<span class=\"token operator\">|</span><span class=\"token punctuation\">[</span>Ss<span class=\"token punctuation\">]</span>evere<span class=\"token operator\">|</span>SEVERE<span class=\"token operator\">|</span>EMERG<span class=\"token punctuation\">(</span>?:ENCY<span class=\"token punctuation\">)</span>?<span class=\"token operator\">|</span><span class=\"token punctuation\">[</span>Ee<span class=\"token punctuation\">]</span>merg<span class=\"token punctuation\">(</span>?:ency<span class=\"token punctuation\">)</span>?<span class=\"token punctuation\">)</span></code></pre></div>"}},{"node":{"id":"73cec9f7-349a-5686-b1c9-b288b4c9487c","fields":{"path":"/personal-blog/_path","date":1499702400},"frontmatter":{"title":"Matplotlib Cheat Sheet","tags":["math"]},"html":"<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt\n<span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np</code></pre></div>\n<h1>Plot</h1>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token operator\">%</span>matplotlib inline\nxs <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>linspace<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>plot<span class=\"token punctuation\">(</span>xs<span class=\"token punctuation\">,</span> xs<span class=\"token operator\">**</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'r--'</span><span class=\"token punctuation\">,</span> label<span class=\"token operator\">=</span><span class=\"token string\">'Man'</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>plot<span class=\"token punctuation\">(</span>xs<span class=\"token punctuation\">,</span> xs<span class=\"token operator\">**</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'go'</span><span class=\"token punctuation\">,</span> label<span class=\"token operator\">=</span><span class=\"token string\">'Car'</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>plot<span class=\"token punctuation\">(</span>xs<span class=\"token punctuation\">,</span> xs<span class=\"token operator\">**</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span><span class=\"token punctuation\">,</span> label<span class=\"token operator\">=</span><span class=\"token string\">'Plane'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># legend</span>\nplt<span class=\"token punctuation\">.</span>legend<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># axis</span>\nax <span class=\"token operator\">=</span> plt<span class=\"token punctuation\">.</span>gca<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nax<span class=\"token punctuation\">.</span>set_title<span class=\"token punctuation\">(</span><span class=\"token string\">\"exponentials\"</span><span class=\"token punctuation\">,</span> size<span class=\"token operator\">=</span><span class=\"token number\">14</span><span class=\"token punctuation\">,</span> weight<span class=\"token operator\">=</span><span class=\"token string\">'bold'</span><span class=\"token punctuation\">)</span>\nax<span class=\"token punctuation\">.</span>set_xlabel<span class=\"token punctuation\">(</span><span class=\"token string\">\"time\"</span><span class=\"token punctuation\">)</span>\nax<span class=\"token punctuation\">.</span>set_ylabel<span class=\"token punctuation\">(</span><span class=\"token string\">\"distance\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><img src=\"/assets/matplotlib-cheat-sheet/output_2_1.png\" alt=\"png\"></p>\n<h1>Error bars</h1>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># error bars</span>\nyerr <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>random<span class=\"token punctuation\">.</span>random_integers<span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span>xs<span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>errorbar<span class=\"token punctuation\">(</span>xs<span class=\"token punctuation\">,</span> xs<span class=\"token operator\">**</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> yerr<span class=\"token operator\">=</span>yerr<span class=\"token punctuation\">)</span></code></pre></div>\n<p><img src=\"/assets/matplotlib-cheat-sheet/output_4_1.png\" alt=\"png\"></p>\n<h1>3D Plots</h1>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> mpl_toolkits<span class=\"token punctuation\">.</span>mplot3d <span class=\"token keyword\">import</span> Axes3D</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">fig <span class=\"token operator\">=</span> plt<span class=\"token punctuation\">.</span>figure<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nax <span class=\"token operator\">=</span> Axes3D<span class=\"token punctuation\">(</span>fig<span class=\"token punctuation\">)</span>\nt <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>linspace<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token operator\">*</span>np<span class=\"token punctuation\">.</span>pi<span class=\"token punctuation\">,</span> <span class=\"token number\">501</span><span class=\"token punctuation\">)</span>\nax<span class=\"token punctuation\">.</span>plot<span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>cos<span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> np<span class=\"token punctuation\">.</span>sin<span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> t<span class=\"token punctuation\">)</span></code></pre></div>\n<p><img src=\"/assets/matplotlib-cheat-sheet/output_7_1.png\" alt=\"png\"></p>\n<h1>Subplots</h1>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># plt.subplot(rows, columns, active)</span>\nplt<span class=\"token punctuation\">.</span>subplot<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>plot<span class=\"token punctuation\">(</span>xs<span class=\"token punctuation\">,</span> xs<span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>subplot<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>plot<span class=\"token punctuation\">(</span>xs<span class=\"token punctuation\">,</span> xs<span class=\"token operator\">**</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>subplot<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>plot<span class=\"token punctuation\">(</span>xs<span class=\"token punctuation\">,</span> xs<span class=\"token operator\">**</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>subplot<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>plot<span class=\"token punctuation\">(</span>xs<span class=\"token punctuation\">,</span> xs<span class=\"token operator\">**</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><img src=\"/assets/matplotlib-cheat-sheet/output_9_1.png\" alt=\"png\"></p>"}},{"node":{"id":"23cd5265-37a2-5634-ac17-c3f3df894cfb","fields":{"path":"/personal-blog/_path","date":1499529600},"frontmatter":{"title":"Non Linear Least Squares Localization","tags":["math"]},"html":"<h1>Non Linear Least Squares</h1>\n<p>Our model consist of <em>i</em> anchors and 1 beacon<br>\n\\( x \\) is the unknown beacon position<br>\n\\( u \\) is the known positions of each <em>ith</em> anchor<br>\n\\( y \\) is the given measurement of the distance between each <em>ith</em> anchor to the beacon   </p>\n<p>Model,</p>\n<html>\n\\[\n\\begin{align}\ny_i \\approx \\sqrt{(x_0 - u_{i0})^2 + (x_1 - u_{i1})^2}\n\\end{align}\n\\]\n</html>\n<p><em>ith</em> Residual,</p>\n<html>\n\\[\n\\begin{align}\nf_i(x) = \\sqrt{(x_0 - u_{i0})^2 + (x_1 - u_{i1})^2} - y_i, \\quad i=0,1,2\n\\end{align}\n\\]\n</html>\n<p>Jacobian,</p>\n<html>\n\\[\n\\begin{split}\\begin{align}\n&J_{i0} = \\frac{\\partial f_i}{\\partial x_0} = \\frac{x_0 - u_{i0}}{ \\sqrt{(x_0 - u_{i0})^2 + (x_1 - u_{i1})^2} } \\\\\n&J_{i1} = \\frac{\\partial f_i}{\\partial x_1} = \\frac{x_1 - u_{i1}}{ \\sqrt{(x_0 - u_{i0})^2 + (x_1 - u_{i1})^2} } \n\\end{align}\\end{split}\n\\]\n</html>\n<p>Python code,</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np\n<span class=\"token keyword\">from</span> scipy<span class=\"token punctuation\">.</span>optimize <span class=\"token keyword\">import</span> least_squares\n<span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt\n<span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>patches <span class=\"token keyword\">as</span> patches\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">model</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> u<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> u<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token operator\">**</span><span class=\"token number\">2</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> u<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token operator\">**</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token operator\">**</span><span class=\"token number\">0.5</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">residual</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> u<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> model<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> u<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> y\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">jacobian</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> u<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    J <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>empty<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>u<span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    den <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> u<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token operator\">**</span><span class=\"token number\">2</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> u<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token operator\">**</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token operator\">**</span><span class=\"token number\">0.5</span>\n    J<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> u<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> den\n    J<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> u<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> den\n    <span class=\"token keyword\">return</span> np<span class=\"token punctuation\">.</span>nan_to_num<span class=\"token punctuation\">(</span>J<span class=\"token punctuation\">)</span></code></pre></div>\n<hr>\n<h1>Weighted Non Linear Least Squares</h1>\n<p>Model</p>\n<html>\n\\begin{align}\ny_i \\approx \\sqrt{(x_0 - u_{i0})^2 + (x_1 - u_{i1})^2}\n\\end{align}\n</html>\n<p>Weight,</p>\n<html>\n\\begin{align}\nw_i = {\\sigma}^2y_i\n\\end{align}\n</html>\n<p><em>ith</em> Residual,</p>\n<html>\n\\begin{align}\nf_i(x) = w_i\\sqrt{(x_0 - u_{i0})^2 + (x_1 - u_{i1})^2} - w_iy_i, \\quad i=0,1,2\n\\end{align}\n</html>\n<p>Jacobian,</p>\n<html>\n\\begin{split}\\begin{align}\n&J_{i0} = \\frac{\\partial f_i}{\\partial x_0} = \\frac{w_i(x_0 - u_{i0})}{ \\sqrt{(x_0 - u_{i0})^2 + (x_1 - u_{i1})^2} } \\\\\n&J_{i1} = \\frac{\\partial f_i}{\\partial x_1} = \\frac{w_i(x_1 - u_{i1})}{ \\sqrt{(x_0 - u_{i0})^2 + (x_1 - u_{i1})^2} } \n\\end{align}\\end{split}\n</html>\n<p>Python code,</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">model_w</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> u<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> u<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token operator\">**</span><span class=\"token number\">2</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> u<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token operator\">**</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token operator\">**</span><span class=\"token number\">0.5</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">weight</span><span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> <span class=\"token number\">1</span> <span class=\"token operator\">/</span> y<span class=\"token operator\">**</span><span class=\"token number\">2</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">residual_w</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> u<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    w <span class=\"token operator\">=</span> weight<span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> w <span class=\"token operator\">*</span> model<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> u<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> w <span class=\"token operator\">*</span> y\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">jacobian_w</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> u<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    w <span class=\"token operator\">=</span> weight<span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">)</span>\n    J <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>empty<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>u<span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    den <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> u<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token operator\">**</span><span class=\"token number\">2</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> u<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token operator\">**</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token operator\">**</span><span class=\"token number\">0.5</span>\n    J<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> w <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> u<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> den\n    J<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> w <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> u<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> den\n    <span class=\"token keyword\">return</span> np<span class=\"token punctuation\">.</span>nan_to_num<span class=\"token punctuation\">(</span>J<span class=\"token punctuation\">)</span></code></pre></div>\n<p>This is a more advanced way of selecting weights (see <a href=\"/personal-blog/assets/non-linear-least-squares-localization/weighted_least_squares.pdf\">choosing-weights</a>)</p>\n<html>\n\\begin{align}\np_i = \\frac{n}{\\sigma_g^2 + d^2\\sigma_m^2}\n\\end{align}\n</html>\n<p>where,</p>\n<ul>\n<li>n is the number of observations</li>\n<li>d is the distance</li>\n<li>\\( \\sigma_m \\) is the standard deviation of the measuring device</li>\n<li>\\( \\sigma_g \\) is the standard deviation of the measuring device and of centering the device</li>\n</ul>\n<hr>\n<h1>Test Data</h1>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">u <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token number\">10</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\ny <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\nx0 <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\nresult   <span class=\"token operator\">=</span> least_squares<span class=\"token punctuation\">(</span>residual<span class=\"token punctuation\">,</span> x0<span class=\"token punctuation\">,</span> jac<span class=\"token operator\">=</span>jacobian<span class=\"token punctuation\">,</span> bounds<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token number\">10</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> args<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>u<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> verbose<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\nresult_w <span class=\"token operator\">=</span> least_squares<span class=\"token punctuation\">(</span>residual_w<span class=\"token punctuation\">,</span> x0<span class=\"token punctuation\">,</span> jac<span class=\"token operator\">=</span>jacobian_w<span class=\"token punctuation\">,</span> bounds<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token number\">10</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> args<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>u<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> verbose<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token operator\">%</span>matplotlib inline\nplt<span class=\"token punctuation\">.</span>scatter<span class=\"token punctuation\">(</span>u<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> u<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> label<span class=\"token operator\">=</span><span class=\"token string\">'anchors'</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>scatter<span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> result<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> label<span class=\"token operator\">=</span><span class=\"token string\">'prediction'</span><span class=\"token punctuation\">,</span> c<span class=\"token operator\">=</span><span class=\"token string\">'r'</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>scatter<span class=\"token punctuation\">(</span>result_w<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> result_w<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> label<span class=\"token operator\">=</span><span class=\"token string\">'prediction w.'</span><span class=\"token punctuation\">,</span> c<span class=\"token operator\">=</span><span class=\"token string\">'g'</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>scatter<span class=\"token punctuation\">(</span>x0<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> x0<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> label<span class=\"token operator\">=</span><span class=\"token string\">'x0'</span><span class=\"token punctuation\">,</span> c<span class=\"token operator\">=</span><span class=\"token string\">'y'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>u<span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    plt<span class=\"token punctuation\">.</span>gca<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>add_patch<span class=\"token punctuation\">(</span>\n        plt<span class=\"token punctuation\">.</span>Circle<span class=\"token punctuation\">(</span><span class=\"token builtin\">tuple</span><span class=\"token punctuation\">(</span>u<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> fc<span class=\"token operator\">=</span><span class=\"token string\">'none'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>axis<span class=\"token punctuation\">(</span><span class=\"token string\">'scaled'</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>legend<span class=\"token punctuation\">(</span>loc<span class=\"token operator\">=</span><span class=\"token string\">\"upper left\"</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><img src=\"/assets/non-linear-least-squares-localization/output_7_0.png\" alt=\"png\"></p>"}},{"node":{"id":"5259c998-416e-5265-a561-6b5d7e8daa50","fields":{"path":"/personal-blog/_path","date":1499443200},"frontmatter":{"title":"Numpy Cheat Sheet","tags":["math"]},"html":"<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np</code></pre></div>\n<h1>Creating arrays</h1>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># initialize with values</span>\nnp<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token operator\">>></span>  array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">>></span>         <span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># 1d array</span>\nnp<span class=\"token punctuation\">.</span>zeros<span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token operator\">>></span>  array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># 2d array</span>\nnp<span class=\"token punctuation\">.</span>zeros<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token operator\">>></span>  array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">>></span>         <span class=\"token punctuation\">[</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">>></span>         <span class=\"token punctuation\">[</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">>></span>         <span class=\"token punctuation\">[</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># multi-dimension array</span>\nnp<span class=\"token punctuation\">.</span>zeros<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token operator\">>></span>  array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">>></span>          <span class=\"token punctuation\">[</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">>></span>  \n    <span class=\"token operator\">>></span>         <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">>></span>          <span class=\"token punctuation\">[</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">>></span>  \n    <span class=\"token operator\">>></span>         <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">>></span>          <span class=\"token punctuation\">[</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">>></span>  \n    <span class=\"token operator\">>></span>         <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">>></span>          <span class=\"token punctuation\">[</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># np.arange(start, end, increment)</span>\nnp<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token operator\">>></span>  array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span> <span class=\"token punctuation\">,</span>  <span class=\"token number\">1.5</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">2</span><span class=\"token punctuation\">.</span> <span class=\"token punctuation\">,</span>  <span class=\"token number\">2.5</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">3</span><span class=\"token punctuation\">.</span> <span class=\"token punctuation\">,</span>  <span class=\"token number\">3.5</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">4</span><span class=\"token punctuation\">.</span> <span class=\"token punctuation\">,</span>  <span class=\"token number\">4.5</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">5</span><span class=\"token punctuation\">.</span> <span class=\"token punctuation\">,</span>  <span class=\"token number\">5.5</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">6</span><span class=\"token punctuation\">.</span> <span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">>></span>          <span class=\"token number\">6.5</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">7</span><span class=\"token punctuation\">.</span> <span class=\"token punctuation\">,</span>  <span class=\"token number\">7.5</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">8</span><span class=\"token punctuation\">.</span> <span class=\"token punctuation\">,</span>  <span class=\"token number\">8.5</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">9</span><span class=\"token punctuation\">.</span> <span class=\"token punctuation\">,</span>  <span class=\"token number\">9.5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># np.linspace(start, end, numsteps)</span>\nnp<span class=\"token punctuation\">.</span>linspace<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token operator\">>></span>  array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>  <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>        <span class=\"token punctuation\">,</span>   <span class=\"token number\">1.47368421</span><span class=\"token punctuation\">,</span>   <span class=\"token number\">1.94736842</span><span class=\"token punctuation\">,</span>   <span class=\"token number\">2.42105263</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">>></span>           <span class=\"token number\">2.89473684</span><span class=\"token punctuation\">,</span>   <span class=\"token number\">3.36842105</span><span class=\"token punctuation\">,</span>   <span class=\"token number\">3.84210526</span><span class=\"token punctuation\">,</span>   <span class=\"token number\">4.31578947</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">>></span>           <span class=\"token number\">4.78947368</span><span class=\"token punctuation\">,</span>   <span class=\"token number\">5.26315789</span><span class=\"token punctuation\">,</span>   <span class=\"token number\">5.73684211</span><span class=\"token punctuation\">,</span>   <span class=\"token number\">6.21052632</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">>></span>           <span class=\"token number\">6.68421053</span><span class=\"token punctuation\">,</span>   <span class=\"token number\">7.15789474</span><span class=\"token punctuation\">,</span>   <span class=\"token number\">7.63157895</span><span class=\"token punctuation\">,</span>   <span class=\"token number\">8.10526316</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">>></span>           <span class=\"token number\">8.57894737</span><span class=\"token punctuation\">,</span>   <span class=\"token number\">9.05263158</span><span class=\"token punctuation\">,</span>   <span class=\"token number\">9.52631579</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">10</span><span class=\"token punctuation\">.</span>        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h1>Accessing arrays</h1>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># access element</span>\nA <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>zeros<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nA<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\nA<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\nA<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">3</span>\nA\n\n    <span class=\"token operator\">>></span>  array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">>></span>         <span class=\"token punctuation\">[</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">2</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">>></span>         <span class=\"token punctuation\">[</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">3</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># slicing [start:end:stride], start + n*stride &lt; end</span>\nrows <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">(</span>A<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\ncols <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">(</span>A<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># column 0, rows 0..rows-1</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>A<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span>rows<span class=\"token punctuation\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>A<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token operator\">>></span>  <span class=\"token punctuation\">[</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">]</span>\n    <span class=\"token operator\">>></span>  <span class=\"token punctuation\">[</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\"># sub matrix</span>\nA<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span>\n\n    <span class=\"token operator\">>></span>  array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token number\">2</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">>></span>         <span class=\"token punctuation\">[</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">3</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># array indexing</span>\nB <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span>\ni <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>B<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>B<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n\n    <span class=\"token operator\">>></span>  <span class=\"token punctuation\">[</span><span class=\"token number\">10</span> <span class=\"token number\">11</span> <span class=\"token number\">12</span> <span class=\"token number\">13</span> <span class=\"token number\">14</span> <span class=\"token number\">15</span> <span class=\"token number\">16</span> <span class=\"token number\">17</span> <span class=\"token number\">18</span> <span class=\"token number\">19</span> <span class=\"token number\">20</span><span class=\"token punctuation\">]</span>\n    <span class=\"token operator\">>></span>\n    <span class=\"token operator\">>></span>  <span class=\"token punctuation\">[</span><span class=\"token number\">12</span> <span class=\"token number\">14</span> <span class=\"token number\">15</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\"># return intersections of rows 0,2 and columns 0,1</span>\ni <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>A<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>A<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token operator\">>></span>  <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">]</span>\n    <span class=\"token operator\">>></span>   <span class=\"token punctuation\">[</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">2</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">]</span>\n    <span class=\"token operator\">>></span>   <span class=\"token punctuation\">[</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">3</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n    <span class=\"token operator\">>></span>\n    <span class=\"token operator\">>></span>  <span class=\"token punctuation\">[</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">]</span></code></pre></div>\n<h1>Flatten, Ravel, Reshape</h1>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># flatten returns a new independant array</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>A<span class=\"token punctuation\">.</span>flatten<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token operator\">>></span>  <span class=\"token punctuation\">[</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">2</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">3</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\"># ravel returns a new array but accesses the same data</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>A<span class=\"token punctuation\">.</span>ravel<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token operator\">>></span>  <span class=\"token punctuation\">[</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">2</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">3</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\"># reshape array, new array accesses the same data</span>\nA <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>A<span class=\"token punctuation\">)</span>\nA<span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token operator\">>></span>  <span class=\"token punctuation\">[</span> <span class=\"token number\">0</span>  <span class=\"token number\">1</span>  <span class=\"token number\">2</span>  <span class=\"token number\">3</span>  <span class=\"token number\">4</span>  <span class=\"token number\">5</span>  <span class=\"token number\">6</span>  <span class=\"token number\">7</span>  <span class=\"token number\">8</span>  <span class=\"token number\">9</span> <span class=\"token number\">10</span> <span class=\"token number\">11</span><span class=\"token punctuation\">]</span>\n    <span class=\"token operator\">>></span>\n    <span class=\"token operator\">>></span>  array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">>></span>         <span class=\"token punctuation\">[</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">6</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">7</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">>></span>         <span class=\"token punctuation\">[</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">11</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h1>Stacking</h1>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\nb <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span><span class=\"token number\">120</span><span class=\"token punctuation\">)</span>\nc <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>vstack<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span>\n\n    <span class=\"token operator\">>></span>  <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span>  <span class=\"token number\">0</span>   <span class=\"token number\">1</span>   <span class=\"token number\">2</span>   <span class=\"token number\">3</span>   <span class=\"token number\">4</span>   <span class=\"token number\">5</span>   <span class=\"token number\">6</span>   <span class=\"token number\">7</span>   <span class=\"token number\">8</span>   <span class=\"token number\">9</span>  <span class=\"token number\">10</span>  <span class=\"token number\">11</span>  <span class=\"token number\">12</span>  <span class=\"token number\">13</span>  <span class=\"token number\">14</span>  <span class=\"token number\">15</span>  <span class=\"token number\">16</span>  <span class=\"token number\">17</span>\n    <span class=\"token operator\">>></span>     <span class=\"token number\">18</span>  <span class=\"token number\">19</span><span class=\"token punctuation\">]</span>\n    <span class=\"token operator\">>></span>   <span class=\"token punctuation\">[</span><span class=\"token number\">100</span> <span class=\"token number\">101</span> <span class=\"token number\">102</span> <span class=\"token number\">103</span> <span class=\"token number\">104</span> <span class=\"token number\">105</span> <span class=\"token number\">106</span> <span class=\"token number\">107</span> <span class=\"token number\">108</span> <span class=\"token number\">109</span> <span class=\"token number\">110</span> <span class=\"token number\">111</span> <span class=\"token number\">112</span> <span class=\"token number\">113</span> <span class=\"token number\">114</span> <span class=\"token number\">115</span> <span class=\"token number\">116</span> <span class=\"token number\">117</span>\n    <span class=\"token operator\">>></span>    <span class=\"token number\">118</span> <span class=\"token number\">119</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span></code></pre></div>\n<h1>Reducing</h1>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># sum</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span><span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># applying along the first axis will collapse the first dimension, leaving the second</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span><span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># applying along the second axis will collapse the second dimension, leaving the first</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span><span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>   <span class=\"token comment\"># apply on all elements</span>\n\n    <span class=\"token operator\">>></span>  <span class=\"token punctuation\">[</span><span class=\"token number\">100</span> <span class=\"token number\">102</span> <span class=\"token number\">104</span> <span class=\"token number\">106</span> <span class=\"token number\">108</span> <span class=\"token number\">110</span> <span class=\"token number\">112</span> <span class=\"token number\">114</span> <span class=\"token number\">116</span> <span class=\"token number\">118</span> <span class=\"token number\">120</span> <span class=\"token number\">122</span> <span class=\"token number\">124</span> <span class=\"token number\">126</span> <span class=\"token number\">128</span> <span class=\"token number\">130</span> <span class=\"token number\">132</span> <span class=\"token number\">134</span>\n    <span class=\"token operator\">>></span>   <span class=\"token number\">136</span> <span class=\"token number\">138</span><span class=\"token punctuation\">]</span>\n    <span class=\"token operator\">>></span>  <span class=\"token punctuation\">[</span> <span class=\"token number\">190</span> <span class=\"token number\">2190</span><span class=\"token punctuation\">]</span>\n    <span class=\"token operator\">>></span>  <span class=\"token number\">2380</span></code></pre></div>"}},{"node":{"id":"7fee9533-5eb8-56cc-9eb0-57c30ba3092a","fields":{"path":"/personal-blog/_path","date":1467648000},"frontmatter":{"title":"Git Cheat Sheet","tags":["engineering"]},"html":"<h1>Initializations</h1>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Initialize Repository</span>\n<span class=\"token function\">git</span> init\n\n<span class=\"token comment\"># Show Remotes</span>\n<span class=\"token function\">git</span> remote -v\n\n<span class=\"token comment\"># Add Remote</span>\n<span class=\"token function\">git</span> remote <span class=\"token function\">add</span> origin git@github.com:username/repo.git\n\n<span class=\"token comment\"># Change Remote</span>\n<span class=\"token function\">git</span> remote set-url origin git@github.com:username/repo.git</code></pre></div>\n<h1>Pull / Fetch / Merge</h1>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Pull - Fetch + Merge</span>\n<span class=\"token function\">git</span> pull origin <span class=\"token operator\">&lt;</span>branch<span class=\"token operator\">></span>\n\n<span class=\"token comment\"># Hard Reset</span>\n<span class=\"token function\">git</span> fetch --all\n<span class=\"token function\">git</span> reset --hard origin/<span class=\"token operator\">&lt;</span>branch<span class=\"token operator\">></span>\n\n<span class=\"token comment\"># Fetch and Merge Selected File/Folder</span>\n<span class=\"token function\">git</span> fetch origin master\n<span class=\"token function\">git</span> checkout FETCH_HEAD path/to/file/or/folder</code></pre></div>\n<h1>Add / Commit / Push</h1>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Add All Files</span>\n<span class=\"token function\">git</span> <span class=\"token function\">add</span> -A\n\n<span class=\"token comment\"># Commit</span>\n<span class=\"token function\">git</span> commit -m <span class=\"token string\">\"message for commit\"</span>\n\n<span class=\"token comment\"># Push</span>\n<span class=\"token function\">git</span> push origin <span class=\"token operator\">&lt;</span>branch<span class=\"token operator\">></span>\n\n<span class=\"token comment\"># Push Folder to Subtree</span>\n<span class=\"token function\">git</span> subtree push --prefix <span class=\"token operator\">&lt;</span>folder<span class=\"token operator\">></span> origin <span class=\"token operator\">&lt;</span>branch<span class=\"token operator\">></span></code></pre></div>\n<h1>Delete History</h1>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">git</span> filter-branch --tree-filter <span class=\"token string\">'rm -rf &lt;folder>'</span> --prune-empty HEAD\n<span class=\"token function\">git</span> for-each-ref --format<span class=\"token operator\">=</span><span class=\"token string\">\"%(refname)\"</span> refs/original/ <span class=\"token operator\">|</span> <span class=\"token function\">xargs</span> -n <span class=\"token number\">1</span> <span class=\"token function\">git</span> update-ref -d\n<span class=\"token function\">git</span> commit -m <span class=\"token string\">'&lt;message>'</span>\n<span class=\"token function\">git</span> gc\n<span class=\"token function\">git</span> push origin master --force</code></pre></div>\n<h1>Special Functions</h1>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Create Bare Repository</span>\n<span class=\"token function\">mkdir</span> repository.git\n<span class=\"token builtin class-name\">cd</span> repository.git\n<span class=\"token function\">git</span> init --bare</code></pre></div>\n<h1>Notes</h1>\n<p><strong>Bare repositories</strong> don't have a working tree (no history of modifications and changes), so you can't add files to them using <em>git add</em> or <em>git commit</em>. Instead you commit a bare repository by <strong>pushing</strong> to it from your local clone. To have central repository the only way it is to have a bare repository.</p>"}},{"node":{"id":"e97c9945-a018-5b28-9ded-171e746c9172","fields":{"path":"/personal-blog/_path","date":1446307200},"frontmatter":{"title":"SSH Basics","tags":["engineering"]},"html":"<h1>Definitions</h1>\n<p>remote </p>\n<ul>\n<li>something elsewhere (eg. a remote server you want to access)</li>\n</ul>\n<p>local</p>\n<ul>\n<li>where you are working from (eg. a desktop)</li>\n</ul>\n<h1>Problem</h1>\n<ol>\n<li>You want to access your <strong>remote server</strong> from your <strong>local machine</strong> while keeping others out.</li>\n<li>You want to <strong>encrypt</strong> the communication to and from your server.</li>\n<li>You don't want to keep typing in your password.</li>\n</ol>\n<h1>Solution</h1>\n<p>SSH works by generating a pair of keys. </p>\n<ul>\n<li>A <em>private</em> key, which identifies <strong>you</strong></li>\n<li>A <em>public</em> key which you store on the remote server you want to connect to.</li>\n</ul>\n<p>The magic here is that, you <strong>cannot generate the private key from the public key</strong>, however, <strong>ONLY</strong> the private key can unlock the public key.</p>\n<p>This means that you can pass your <strong>public key</strong> around freely, without worrying that anyone can unlock it, because only you have the correct <strong>private key</strong> to unlock it.</p>\n<h1>Setting up</h1>\n<p>On your local machine, generate a pair of keys, a private key that identifies you, and a public key that you can pass around (to the server that you want to access).</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">ssh-keygen -t rsa</code></pre></div>\n<p>At this point, it would prompt you for a <strong>passphrase</strong>. This is an <strong>additional layer of security</strong> which is <strong>optional</strong>, if you choose not to use it just leave it empty. Setting a passphrase will configure your keys such that you would have to enter a passphrase to use it. In the event that someone steals your <strong>private key</strong>, he would have access to all your servers. Adding this additional layer means that he would not only need your private key, but your passphrase as well.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># on your local machine</span>\n~/\n  .ssh/\n    id_rsa      <span class=\"token comment\"># your private key, don't give this out!</span>\n    id_rsa.pub  <span class=\"token comment\"># public key for handing out to remote server</span></code></pre></div>\n<p>Now, access your remote server and create the <em>~/.ssh directory</em> if it does not already exist. Copy the contents inside <em>ida_rsa.pub</em> into the file <em>~/.ssh/authorized_keys</em> (make it if it does not exist). </p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># on your remove server</span>\n~/\n  .ssh/\n    authorized_keys</code></pre></div>\n<p>the <strong>authorized_keys</strong> file would contain more than one public keys depending on how many users negotiate access to it.</p>\n<p>Now, when you SSH into your server, your would not need a password and the channel would be secure</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">ssh</span> user@172.164.120.133</code></pre></div>\n<h1>Permission keys</h1>\n<p>There can be another case in which the server generates and stores the <strong>public key</strong>, and then gives you the <strong>private key</strong>. This is typical when you sign up for a AWS server with Amazon. in this case, you should not use the id_rsa key that you generated yourself, but the private key that was given to you. To SSH using a custom private key:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">shh -i ./path/to/private/key.pem user@172.164.120.133</code></pre></div>"}},{"node":{"id":"d87a845d-481f-5863-ad12-ae64e85cc44e","fields":{"path":"/personal-blog/_path","date":1446307200},"frontmatter":{"title":"SSH Config","tags":["engineering"]},"html":"<h1>Why</h1>\n<p>Setting up a SSH config file provides a convenient way to:</p>\n<ul>\n<li>connect to the host/remote via SSH</li>\n<li>upload files via SCP</li>\n<li>push a git repository to the host</li>\n<li>etc ...</li>\n</ul>\n<h1>Setting up a config file</h1>\n<p>Create the config file <em>~/.ssh/config</em> if it does not already exist</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">~/\n  .ssh/\n    config</code></pre></div>\n<p>Add an entry to the config file, for example</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">Host                circuitmonk\n  HostName          www.circuitmonk.com\n  User              ec2-user\n  IdentityFile      /Path/to/your/ssh/private/key.pem\n  IdentitiesOnly    <span class=\"token function\">yes</span></code></pre></div>\n<p>Now, we can ssh into the host more conveniently</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># more convenient</span>\n<span class=\"token function\">ssh</span> circuitmonk\n\n<span class=\"token comment\"># instead of</span>\n<span class=\"token function\">ssh</span> -i path/to/ssh/private/key ec2-user@www.circuitmonk.com</code></pre></div>\n<h1>SCP</h1>\n<p>We can copy files from our local machine to the host</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">scp</span> /local/file circuitmonk:/path/on/host\n\n<span class=\"token comment\"># instead of</span>\n<span class=\"token function\">scp</span> -i path/to/ssh/private/key /local/file ec2-user@www.circuitmonk.com:/path/on/host</code></pre></div>\n<h1>Git push</h1>\n<p>Pushing to a remote git repository on the host is also easy</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">git</span> remote <span class=\"token function\">add</span> circuitmonk circuitmonk:/path/to/git/repository/on/host\n<span class=\"token function\">git</span> push circuitmonk +master:refs/heads/master</code></pre></div>"}},{"node":{"id":"c0d29653-d226-5153-85f8-e450c1ae28af","fields":{"path":"/personal-blog/_path","date":1445875200},"frontmatter":{"title":"Writing Math In Markdown","tags":["math"]},"html":"<p>The curent markdown syntax is <a href=\"http://kramdown.gettalong.org/syntax.html\">kramdown</a> which uses <a href=\"https://www.mathjax.org/\">MathJax</a>. Here are some examples.</p>\n<html>\n  <table>\n    <tr>\n      <td>\n        <pre><code class=\"language-tex\">\n$$\n\\begin{align*}\n  & \\phi(x,y) = \\phi \\left(\\sum_{i=1}^n x_ie_i, \\sum_{j=1}^n y_je_j \\right)\n  = \\sum_{i=1}^n \\sum_{j=1}^n x_i y_j \\phi(e_i, e_j) = \\\\\n  & (x_1, \\ldots, x_n) \\left( \\begin{array}{ccc}\n      \\phi(e_1, e_1) & \\cdots & \\phi(e_1, e_n) \\\\\n      \\vdots & \\ddots & \\vdots \\\\\n      \\phi(e_n, e_1) & \\cdots & \\phi(e_n, e_n)\n    \\end{array} \\right)\n  \\left( \\begin{array}{c}\n      y_1 \\\\\n      \\vdots \\\\\n      y_n\n    \\end{array} \\right)\n\\end{align*}\n$$\n        </code></pre>\n      </td>\n      <td>\n        $$\n        \\begin{align*}\n          & \\phi(x,y) = \\phi \\left(\\sum_{i=1}^n x_ie_i, \\sum_{j=1}^n y_je_j \\right)\n          = \\sum_{i=1}^n \\sum_{j=1}^n x_i y_j \\phi(e_i, e_j) = \\\\\n          & (x_1, \\ldots, x_n) \\left( \\begin{array}{ccc}\n              \\phi(e_1, e_1) & \\cdots & \\phi(e_1, e_n) \\\\\n              \\vdots & \\ddots & \\vdots \\\\\n              \\phi(e_n, e_1) & \\cdots & \\phi(e_n, e_n)\n            \\end{array} \\right)\n          \\left( \\begin{array}{c}\n              y_1 \\\\\n              \\vdots \\\\\n              y_n\n            \\end{array} \\right)\n        \\end{align*}\n        $$\n      </td>\n    </tr>\n    <tr>\n      <td>\n      <pre><code class=\"language-tex\">\n$$\n\\DeclareMathOperator{\\Div}{div}\n\\DeclareMathOperator{\\Rot}{rot}\n\\newcommand{\\parder}[2]{\\frac{\\partial {#1}}{\\partial {#2}}}\n\\begin{align}\n  \\label{18.1:1}\n  \\begin{aligned}\n    \\Rot\\vec{E} &=-\\frac{1}{c}\\parder{\\vec{B}}{t},&\n    \\Div\\vec{B} &=0,\n    \\\\\n    \\Rot\\vec{B} &=\\frac{1}{c}\\parder{\\vec{E}}{t}\n    +\\frac{4\\pi}{c}\\,\\vec{j},&\n    \\Div\\vec{E} &=4\\pi\\rho_{\\varepsilon}.\n  \\end{aligned}\n\\end{align}\n$$\n      </code></pre>\n      </td>\n      <td>\n      $$\n      \\DeclareMathOperator{\\Div}{div}\n      \\DeclareMathOperator{\\Rot}{rot}\n      \\newcommand{\\parder}[2]{\\frac{\\partial {#1}}{\\partial {#2}}}\n      \\begin{align}\n        \\label{18.1:1}\n        \\begin{aligned}\n          \\Rot\\vec{E} &=-\\frac{1}{c}\\parder{\\vec{B}}{t},&\n          \\Div\\vec{B} &=0,\n          \\\\\n          \\Rot\\vec{B} &=\\frac{1}{c}\\parder{\\vec{E}}{t}\n          +\\frac{4\\pi}{c}\\,\\vec{j},&\n          \\Div\\vec{E} &=4\\pi\\rho_{\\varepsilon}.\n        \\end{aligned}\n      \\end{align}\n      $$\n      </td>\n    </tr>\n    <tr>\n      <td>\n        <pre><code class=\"language-tex\">\nhere is some inlined math \\( \\sin^{2}\\theta + \\cos^{2}\\theta = 1 \\)\n        </code></pre>\n      </td>\n      <td>\n        here is some inlined math \\( \\sin^{2}\\theta + \\cos^{2}\\theta = 1 \\)\n      </td>\n    </tr>\n  </table>\n</html>"}}]}},"pageContext":{}}}